# java-convenience-store-precourse
## 프로그램 작동 방식

- [x] **환영 인사 메세지를 출력한다.**
- [x] **상품명, 가격, 프로모션 이름, 재고를 출력한다.**
  - [x] resources 에서 상품 목록을 불러온다.
  - [x] resources 에서 행사 목록을 불러온다.
  - [x] 불러온 목록을 형식에 맞게 출력한다.
  - [x] (프로모션 없는 상품-오렌지, 탄산수 추가) 추후 리팩토링
- [x] **구매할 상품과 수량을 입력받는다.**
  - [x] 공백인 경우 예외를 발생시킨다.
  - [x] 구매할 상품과 수량 형식이 올바르지 않으면 예외를 발생시킨다.
  - [x] 존재하지 않는 상품을 입력하면 예외를 발생시킨다.
  - [x] 구매 수량이 재고 수량을 초과하면 예외를 발생시킨다.
  - [x] 구매 수량이 1미만 경우 예외를 발생시킨다.
- [x] **프로모션 상품이 n+1 인 경우 n개만 사면, 혜택 안내 메시지를 출력한다.**
  - [x] 무료 상품 추가 여부를 입력받는다.
    - [x] 공백인 경우 예외를 발생시킨다.
    - [x] Y 또는 N 이 아니라면 예외를 발생시킨다.
- (x) **프로모션 재고가 부족하다면, 정가 결제에 대한 안내 메세지를 출력한다.**
  - (x) 정가 구매 여부를 입력 받는다.
    - (x) 공백인 경우 예외를 발생시킨다.
    - (x) Y 또는 N 이 아니라면 예외를 발생시킨다.
- [x] **멤버십 할인 여부를 입력 받는다.**
  - [x] 공백인 경우 예외를 발생시킨다.
  - [x] Y 또는 N 이 아니라면 예외를 발생시킨다.
- [x] **계산 결과를 영수증으로 출력한다.**
  - [x] 금액과 수량을 계산한다
  - [x] 추가 구매 여부를 입력받는다.
    - [x] 공백인 경우 예외를 발생시킨다.
    - [x] Y 입력 시 처음부터 시작, N 입력 시 종료
  
## 리팩토링 내역
- 객체지향을 준수하기 위해 Product 클래스 팩토리 클래스로 분리
- 파일 주소를 동적으로 처리하기 위해 주입받도록 수정
- 컨트롤러에서 뷰와 모델 연결
- 프로모션 제품 먼저 차감하도록 수정
- 무료 증정 메세지가 나오지 않던 문제 해결
- 멤버십 할인 공식 수정
- 프로모션 적용 제품 차감 개수가 2+1과 1+1 에 따라 다른 문제 해결
- 예외 발생 시 프로그램 종료하지 않고 해당 다시 입력받도록 수정
- 출력 부 OutputView 클래스로 이동
- 하드코딩 부분 상수화